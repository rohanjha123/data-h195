

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SQL &#8212; Python for Economists</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/plotly.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/07-sql/sql';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="APIs" href="../06-api/api.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Python for Economists</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    <a> A Quick Overview </a>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../02-prereqs/index.html">Prerequisites</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../02-prereqs/python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-prereqs/jupyter.html">Jupyter Notebooks</a></li>


<li class="toctree-l2"><a class="reference internal" href="../02-prereqs/numpy.html">Numpy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../03-pandas/index.html">Pandas</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../03-pandas/loading-looking.html">Loading in and Looking at the Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-pandas/select_modify.html">Selecting and Modifying Rows/Columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-pandas/misc_funcs.html">Helpful Pandas Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-pandas/groupby_pivot.html">GroupBys and Pivot Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-pandas/merge.html">Joins</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../04-visualizations/index.html">Visualizations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../04-visualizations/choosing.html">Choosing the Right Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-visualizations/types.html">Basic Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-visualizations/advanced.html">More Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../05-regex/regex.html">RegEx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-api/api.html">APIs</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">SQL</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/07-sql/sql.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>SQL</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-to-a-sql-database-in-jupyter">Connecting to a SQL Database in Jupyter</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">Syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select"><code class="docutils literal notranslate"><span class="pre">SELECT</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#as"><code class="docutils literal notranslate"><span class="pre">AS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cast"><code class="docutils literal notranslate"><span class="pre">CAST</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#case"><code class="docutils literal notranslate"><span class="pre">CASE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distinct"><code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#join"><code class="docutils literal notranslate"><span class="pre">JOIN</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#where"><code class="docutils literal notranslate"><span class="pre">WHERE</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-by"><code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregate">Aggregate</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#having"><code class="docutils literal notranslate"><span class="pre">HAVING</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#order-by"><code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limit"><code class="docutils literal notranslate"><span class="pre">LIMIT</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="o">%</span><span class="k">load_ext</span> sql
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">There&#39;s a new jupysql version available (0.10.7), you&#39;re running 0.10.3. To upgrade: pip install jupysql --upgrade</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="sql">
<h1>SQL<a class="headerlink" href="#sql" title="Permalink to this heading">#</a></h1>
<p>This chapter will introduce Structured Query Language, commonly abbreviated as SQL (commonly pronounced “sequel,” though this is the subject of <a class="reference external" href="https://patorjk.com/blog/2012/01/26/pronouncing-sql-s-q-l-or-sequel/">fierce debate</a>), and go over some basic commands. SQL is a special programming language designed to communicate with databases.</p>
<p>It is important to note that SQL is an entirely different programming language to Python. However, Jupyter notebooks allow us to use <a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html">magic commands</a> to perform <a class="reference external" href="https://github.com/ploomber/jupysql">SQL queries</a>. We will be using these magic commands for the purposes of this demonstration. However, if you ever need to access SQL databases at a company, you will likely have to use a <a class="reference external" href="https://codeinstitute.net/global/blog/what-is-a-relational-database-management-system/">relational database management sysmtem (RDMS)</a> to access SQL databases instead.</p>
<p>Let us begin by importing in a dataset on California schools’ SAT performances and poverty data in the 2014-2015 academic year. We have gotten <a class="reference external" href="http://2016.padjo.org/tutorials/sqlite-data-starterpacks/#toc-california-school-sat-performance-and-poverty-data">this dataset</a> from Stanford’s <a class="reference external" href="http://2016.padjo.org/">Public Affairs Data Journalism I, Fall 2016</a>.</p>
<section id="connecting-to-a-sql-database-in-jupyter">
<h2>Connecting to a SQL Database in Jupyter<a class="headerlink" href="#connecting-to-a-sql-database-in-jupyter" title="Permalink to this heading">#</a></h2>
<p>The cells below load in SQL cell magic and connect to our database. The important thing to understand is that our <code class="docutils literal notranslate"><span class="pre">tmpdb</span></code> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html">Path</a> specifies the path to our database, and then <code class="docutils literal notranslate"><span class="pre">sqlite_conn</span></code> and <code class="docutils literal notranslate"><span class="pre">engine</span></code> connect to the database. Finally, <code class="docutils literal notranslate"><span class="pre">%sql</span> <span class="pre">engine</span></code> allows us to use SQL magic commands to query our <code class="docutils literal notranslate"><span class="pre">engine</span></code>. After we have connected the engine, we can simply add <code class="docutils literal notranslate"><span class="pre">%%sql</span></code> at the top of a cell to convert it into a SQL cell!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># These lines specify the location of our database file</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s1">&#39;cdeschools.sqlite&#39;</span>
<span class="n">tmpdb</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">dbfile</span>

<span class="c1"># Specify the database connection path (in this case, a sqlite database in a file)</span>
<span class="n">sqlite_conn</span> <span class="o">=</span> <span class="s1">&#39;sqlite:///&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">tmpdb</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run this cell to connect to database</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="n">sqlite_conn</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">sql</span> engine
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>
/* This is a SQL cell! This particular line is inside a SQL comment. 
The following line let us view all the tables inside our SQL database. */
SELECT * FROM sqlite_master WHERE type=&#39;table&#39;;
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>type</th>
            <th>name</th>
            <th>tbl_name</th>
            <th>rootpage</th>
            <th>sql</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>table</td>
            <td>schools</td>
            <td>schools</td>
            <td>2</td>
            <td>CREATE TABLE schools (<br>	"CDSCode" VARCHAR(14) NOT NULL, <br>	"NCESDist" VARCHAR(7), <br>	"NCESSchool" VARCHAR(5), <br>	"StatusType" VARCHAR(7) NOT NULL, <br>	"County" VARCHAR(15) NOT NULL, <br>	"District" VARCHAR(74) NOT NULL, <br>	"School" VARCHAR(89), <br>	"Street" VARCHAR(62), <br>	"StreetAbr" VARCHAR(59), <br>	"City" VARCHAR(25), <br>	"Zip" VARCHAR(10), <br>	"State" VARCHAR(4), <br>	"MailStreet" VARCHAR(70), <br>	"MailStrAbr" VARCHAR(70), <br>	"MailCity" VARCHAR(22), <br>	"MailZip" VARCHAR(10), <br>	"MailState" VARCHAR(4), <br>	"Phone" VARCHAR(14), <br>	"Ext" VARCHAR(6), <br>	"Website" VARCHAR(96), <br>	"OpenDate" DATE, <br>	"ClosedDate" DATE, <br>	"Charter" BOOLEAN, <br>	"CharterNum" VARCHAR(4), <br>	"FundingType" VARCHAR(23), <br>	"DOC" VARCHAR(2) NOT NULL, <br>	"DOCType" VARCHAR(42) NOT NULL, <br>	"SOC" VARCHAR(4), <br>	"SOCType" VARCHAR(41), <br>	"EdOpsCode" VARCHAR(7), <br>	"EdOpsName" VARCHAR(43), <br>	"EILCode" VARCHAR(8), <br>	"EILName" VARCHAR(31), <br>	"GSoffered" VARCHAR(16), <br>	"GSserved" VARCHAR(5), <br>	"Virtual" VARCHAR(4), <br>	"Magnet" BOOLEAN, <br>	"Latitude" FLOAT, <br>	"Longitude" FLOAT, <br>	"AdmFName1" VARCHAR(17), <br>	"AdmLName1" VARCHAR(22), <br>	"AdmEmail1" VARCHAR(49), <br>	"AdmFName2" VARCHAR(15), <br>	"AdmLName2" VARCHAR(18), <br>	"AdmEmail2" VARCHAR(40), <br>	"AdmFName3" VARCHAR(8), <br>	"AdmLName3" VARCHAR(15), <br>	"AdmEmail3" VARCHAR(39), <br>	"LastUpdate" DATE NOT NULL, <br>	CHECK ("Charter" IN (0, 1)), <br>	CHECK ("Magnet" IN (0, 1))<br>)</td>
        </tr>
        <tr>
            <td>table</td>
            <td>frpm</td>
            <td>frpm</td>
            <td>9041</td>
            <td>CREATE TABLE frpm (<br>	"Academic Year" VARCHAR(9), <br>	"County Code" VARCHAR(4), <br>	"District Code" INTEGER, <br>	"School Code" VARCHAR(7), <br>	"County Name" VARCHAR(15), <br>	"District Name" VARCHAR(75), <br>	"School Name" VARCHAR(85), <br>	"District Type" VARCHAR(32), <br>	"School Type" VARCHAR(41), <br>	"Educational Option Type" VARCHAR(43), <br>	"NSLP Provision Status" VARCHAR(24), <br>	"Charter School (Y/N)" BOOLEAN, <br>	"Charter School Number" VARCHAR(4), <br>	"Charter Funding Type" VARCHAR(23), <br>	"IRC" BOOLEAN, <br>	"Low Grade" VARCHAR(5), <br>	"High Grade" VARCHAR(14), <br>	"Enrollment (K-12)" FLOAT, <br>	"Free Meal Count (K-12)" FLOAT, <br>	"Percent (%) Eligible Free (K-12)" FLOAT, <br>	"FRPM Count (K-12)" FLOAT, <br>	"Percent (%) Eligible FRPM (K-12)" FLOAT, <br>	"Enrollment (Ages 5-17)" FLOAT, <br>	"Free Meal Count (Ages 5-17)" FLOAT, <br>	"Percent (%) Eligible Free (Ages 5-17)" FLOAT, <br>	"FRPM Count (Ages 5-17)" FLOAT, <br>	"Percent (%) Eligible FRPM (Ages 5-17)" FLOAT, <br>	"2013-14 CALPADS Fall 1 Certification Status" BOOLEAN, <br>	CHECK ("Charter School (Y/N)" IN (0, 1)), <br>	CHECK ("IRC" IN (0, 1)), <br>	CHECK ("2013-14 CALPADS Fall 1 Certification Status" IN (0, 1))<br>)</td>
        </tr>
        <tr>
            <td>table</td>
            <td>satscores</td>
            <td>satscores</td>
            <td>8814</td>
            <td>CREATE TABLE satscores (<br>	cds VARCHAR(14) NOT NULL, <br>	rtype VARCHAR(1) NOT NULL, <br>	sname VARCHAR(50), <br>	dname VARCHAR(50), <br>	cname VARCHAR(15), <br>	enroll12 INTEGER NOT NULL, <br>	"NumTstTakr" INTEGER NOT NULL, <br>	"AvgScrRead" INTEGER, <br>	"AvgScrMath" INTEGER, <br>	"AvgScrWrite" INTEGER, <br>	"NumGE1500" INTEGER, <br>	"PctGE1500" FLOAT<br>)</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>As you can see from the summary above, our database contains 3 tables <code class="docutils literal notranslate"><span class="pre">schools</span></code>, <code class="docutils literal notranslate"><span class="pre">frpm</span></code> (short for free or reduced price meals), and <code class="docutils literal notranslate"><span class="pre">satscores</span></code>. Each of these tables contains some important information for our analysis.</p>
<p>The column on the right tells you what SQL command was run to produce each table. Don’t worry about the specifics for now, but note that the column on the right includes all the column names and data types in the table. Read more about the various data types in SQL <a class="reference external" href="https://www.w3schools.com/sql/sql_datatypes.asp">here</a>.</p>
<p>Let us also quickly see the first 5 rows from each of the tables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT * 
FROM schools 
LIMIT 5
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>CDSCode</th>
            <th>NCESDist</th>
            <th>NCESSchool</th>
            <th>StatusType</th>
            <th>County</th>
            <th>District</th>
            <th>School</th>
            <th>Street</th>
            <th>StreetAbr</th>
            <th>City</th>
            <th>Zip</th>
            <th>State</th>
            <th>MailStreet</th>
            <th>MailStrAbr</th>
            <th>MailCity</th>
            <th>MailZip</th>
            <th>MailState</th>
            <th>Phone</th>
            <th>Ext</th>
            <th>Website</th>
            <th>OpenDate</th>
            <th>ClosedDate</th>
            <th>Charter</th>
            <th>CharterNum</th>
            <th>FundingType</th>
            <th>DOC</th>
            <th>DOCType</th>
            <th>SOC</th>
            <th>SOCType</th>
            <th>EdOpsCode</th>
            <th>EdOpsName</th>
            <th>EILCode</th>
            <th>EILName</th>
            <th>GSoffered</th>
            <th>GSserved</th>
            <th>Virtual</th>
            <th>Magnet</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>AdmFName1</th>
            <th>AdmLName1</th>
            <th>AdmEmail1</th>
            <th>AdmFName2</th>
            <th>AdmLName2</th>
            <th>AdmEmail2</th>
            <th>AdmFName3</th>
            <th>AdmLName3</th>
            <th>AdmEmail3</th>
            <th>LastUpdate</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01100170000000</td>
            <td>0691051</td>
            <td>None</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>None</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>(510) 887-0152</td>
            <td>None</td>
            <td>www.acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>37.658212</td>
            <td>-122.09713</td>
            <td>L Karen</td>
            <td>Monroe</td>
            <td>lkmonroe@acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-23</td>
        </tr>
        <tr>
            <td>01100170109835</td>
            <td>0691051</td>
            <td>10546</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>FAME Public Charter</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2005-08-29</td>
            <td>2015-07-31</td>
            <td>1</td>
            <td>0728</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>65</td>
            <td>K-12 Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEMHIGH</td>
            <td>Elementary-High Combination</td>
            <td>K-12</td>
            <td>K-12</td>
            <td>P</td>
            <td>0</td>
            <td>37.521436</td>
            <td>-121.99391</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-09-01</td>
        </tr>
        <tr>
            <td>01100170112607</td>
            <td>0691051</td>
            <td>10947</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612-3355</td>
            <td>CA</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612</td>
            <td>CA</td>
            <td>(510) 596-8901</td>
            <td>None</td>
            <td>www.envisionacademy.org/</td>
            <td>2006-08-28</td>
            <td>None</td>
            <td>1</td>
            <td>0811</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.80452</td>
            <td>-122.26815</td>
            <td>Laura</td>
            <td>Robell</td>
            <td>laura@envisionacademy.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-18</td>
        </tr>
        <tr>
            <td>01100170118489</td>
            <td>0691051</td>
            <td>12283</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>2125 Jefferson Avenue</td>
            <td>2125 Jefferson Ave.</td>
            <td>Berkeley</td>
            <td>94703-1414</td>
            <td>CA</td>
            <td>1001 22nd Avenue, Suite 100</td>
            <td>1001 22nd Ave., Ste. 100</td>
            <td>Oakland</td>
            <td>94606</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>www.aspirepublicschools.org</td>
            <td>2008-08-21</td>
            <td>2015-06-30</td>
            <td>1</td>
            <td>1049</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.868991</td>
            <td>-122.27844</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-07-01</td>
        </tr>
        <tr>
            <td>01100170123968</td>
            <td>0691051</td>
            <td>12844</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Community School for Creative Education</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>(510) 686-4131</td>
            <td>None</td>
            <td>www.communityschoolforcreativeeducation.org</td>
            <td>2011-08-22</td>
            <td>None</td>
            <td>1</td>
            <td>1284</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>60</td>
            <td>Elementary Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEM</td>
            <td>Elementary</td>
            <td>K-8</td>
            <td>K-7</td>
            <td>N</td>
            <td>0</td>
            <td>37.784648</td>
            <td>-122.23863</td>
            <td>Clifford</td>
            <td>Thompson</td>
            <td>cliffordt@communityschoolforcreativeeducation.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-07-18</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT * 
FROM frpm 
LIMIT 5
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>Academic Year</th>
            <th>County Code</th>
            <th>District Code</th>
            <th>School Code</th>
            <th>County Name</th>
            <th>District Name</th>
            <th>School Name</th>
            <th>District Type</th>
            <th>School Type</th>
            <th>Educational Option Type</th>
            <th>NSLP Provision Status</th>
            <th>Charter School (Y/N)</th>
            <th>Charter School Number</th>
            <th>Charter Funding Type</th>
            <th>IRC</th>
            <th>Low Grade</th>
            <th>High Grade</th>
            <th>Enrollment (K-12)</th>
            <th>Free Meal Count (K-12)</th>
            <th>Percent (%) Eligible Free (K-12)</th>
            <th>FRPM Count (K-12)</th>
            <th>Percent (%) Eligible FRPM (K-12)</th>
            <th>Enrollment (Ages 5-17)</th>
            <th>Free Meal Count (Ages 5-17)</th>
            <th>Percent (%) Eligible Free (Ages 5-17)</th>
            <th>FRPM Count (Ages 5-17)</th>
            <th>Percent (%) Eligible FRPM (Ages 5-17)</th>
            <th>2013-14 CALPADS Fall 1 Certification Status</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>2014-2015</td>
            <td>01</td>
            <td>10017</td>
            <td>0109835</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>FAME Public Charter</td>
            <td>County Office of Education (COE)</td>
            <td>K-12 Schools (Public)</td>
            <td>Traditional</td>
            <td>None</td>
            <td>1</td>
            <td>0728</td>
            <td>Directly funded</td>
            <td>1</td>
            <td>K</td>
            <td>12</td>
            <td>1087.0</td>
            <td>565.0</td>
            <td>0.5197792088316467</td>
            <td>715.0</td>
            <td>0.6577736890524379</td>
            <td>1070.0</td>
            <td>553.0</td>
            <td>0.516822429906542</td>
            <td>702.0</td>
            <td>0.6560747663551402</td>
            <td>1</td>
        </tr>
        <tr>
            <td>2014-2015</td>
            <td>01</td>
            <td>10017</td>
            <td>0112607</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>County Office of Education (COE)</td>
            <td>High Schools (Public)</td>
            <td>Traditional</td>
            <td>None</td>
            <td>1</td>
            <td>0811</td>
            <td>Directly funded</td>
            <td>1</td>
            <td>9</td>
            <td>12</td>
            <td>395.0</td>
            <td>186.0</td>
            <td>0.4708860759493671</td>
            <td>186.0</td>
            <td>0.4708860759493671</td>
            <td>376.0</td>
            <td>182.0</td>
            <td>0.48404255319148937</td>
            <td>182.0</td>
            <td>0.48404255319148937</td>
            <td>1</td>
        </tr>
        <tr>
            <td>2014-2015</td>
            <td>01</td>
            <td>10017</td>
            <td>0118489</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>County Office of Education (COE)</td>
            <td>High Schools (Public)</td>
            <td>Traditional</td>
            <td>None</td>
            <td>1</td>
            <td>1049</td>
            <td>Directly funded</td>
            <td>1</td>
            <td>9</td>
            <td>12</td>
            <td>244.0</td>
            <td>134.0</td>
            <td>0.5491803278688525</td>
            <td>175.0</td>
            <td>0.7172131147540983</td>
            <td>230.0</td>
            <td>128.0</td>
            <td>0.5565217391304348</td>
            <td>168.0</td>
            <td>0.7304347826086957</td>
            <td>1</td>
        </tr>
        <tr>
            <td>2014-2015</td>
            <td>01</td>
            <td>10017</td>
            <td>0123968</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Community School for Creative Education</td>
            <td>County Office of Education (COE)</td>
            <td>Elementary Schools (Public)</td>
            <td>Traditional</td>
            <td>Breakfast Provision 2</td>
            <td>1</td>
            <td>1284</td>
            <td>Directly funded</td>
            <td>1</td>
            <td>K</td>
            <td>8</td>
            <td>191.0</td>
            <td>113.0</td>
            <td>0.5916230366492147</td>
            <td>139.0</td>
            <td>0.7277486910994765</td>
            <td>190.0</td>
            <td>113.0</td>
            <td>0.5947368421052631</td>
            <td>139.0</td>
            <td>0.7315789473684211</td>
            <td>1</td>
        </tr>
        <tr>
            <td>2014-2015</td>
            <td>01</td>
            <td>10017</td>
            <td>0124172</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Yu Ming Charter</td>
            <td>County Office of Education (COE)</td>
            <td>Elementary Schools (Public)</td>
            <td>Traditional</td>
            <td>None</td>
            <td>1</td>
            <td>1296</td>
            <td>Directly funded</td>
            <td>1</td>
            <td>K</td>
            <td>8</td>
            <td>257.0</td>
            <td>14.0</td>
            <td>0.054474708171206226</td>
            <td>21.0</td>
            <td>0.08171206225680934</td>
            <td>257.0</td>
            <td>14.0</td>
            <td>0.054474708171206226</td>
            <td>21.0</td>
            <td>0.08171206225680934</td>
            <td>1</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT * 
FROM satscores 
LIMIT 5
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cds</th>
            <th>rtype</th>
            <th>sname</th>
            <th>dname</th>
            <th>cname</th>
            <th>enroll12</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>AvgScrWrite</th>
            <th>NumGE1500</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>00000000000000</td>
            <td>X</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>496901</td>
            <td>210706</td>
            <td>489</td>
            <td>500</td>
            <td>484</td>
            <td>93334</td>
            <td>44.3</td>
        </tr>
        <tr>
            <td>01000000000000</td>
            <td>C</td>
            <td>None</td>
            <td>None</td>
            <td>Alameda</td>
            <td>16978</td>
            <td>8855</td>
            <td>516</td>
            <td>536</td>
            <td>517</td>
            <td>4900</td>
            <td>55.34</td>
        </tr>
        <tr>
            <td>01100170000000</td>
            <td>D</td>
            <td>None</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>398</td>
            <td>88</td>
            <td>418</td>
            <td>418</td>
            <td>417</td>
            <td>14</td>
            <td>15.91</td>
        </tr>
        <tr>
            <td>01100170109835</td>
            <td>S</td>
            <td>FAME Public Charter</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>62</td>
            <td>17</td>
            <td>503</td>
            <td>546</td>
            <td>505</td>
            <td>9</td>
            <td>52.94</td>
        </tr>
        <tr>
            <td>01100170112607</td>
            <td>S</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>75</td>
            <td>71</td>
            <td>397</td>
            <td>387</td>
            <td>395</td>
            <td>5</td>
            <td>7.04</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>Without further ado, let’s begin discussing SQL’s syntax!</p>
<!-- SAT interpretation: https://web.archive.org/web/20161020225740/http://www.cde.ca.gov/ds/sp/ai/glossarysat2015.asp --></section>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading">#</a></h2>
<p>It is common practice to capitalize all keywords in SQL queries. We shall stick to this common practice throughout this section.</p>
<p>While <code class="docutils literal notranslate"><span class="pre">pandas</span></code> doesn’t differentiate between single quotes (‘’) and double quotes (“”), SQL does. You can read more about how Jupyter SQL cell magics handles quotes <a class="reference external" href="https://ibm.github.io/db2-jupyter/linevscell/#python-versus-db2-character-strings">here</a>. However, this may depend on the type of SQL you’re using - other types only use single quotes and no double quotes.</p>
<p>Furthermore, SQL queries have a certain order (i.e. they ought to start with the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement and end with the <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> clause if it exists). The order is as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SELECT &lt;columns&gt;
FROM &lt;table&gt;
[INNER/LEFT/RIGHT/OUTER JOIN &lt;table&gt;]
[ON &lt;columns&gt; = &lt;columns&gt;]
[WHERE &lt;condition&gt;]
[GROUP BY &lt;columns&gt;]
[ORDER BY &lt;columns&gt;]
[LIMIT &lt;rows&gt;]
</pre></div>
</div>
<p>In the above order, the hard bracket <code class="docutils literal notranslate"><span class="pre">[]</span></code>denote optional portions (note that everything except <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> and <code class="docutils literal notranslate"><span class="pre">FROM</span></code> are optional). We have stuck to this order when making this chapter.</p>
<section id="select">
<h3><code class="docutils literal notranslate"><span class="pre">SELECT</span></code><a class="headerlink" href="#select" title="Permalink to this heading">#</a></h3>
<p>Every single SQL query must include a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement with a <code class="docutils literal notranslate"><span class="pre">FROM</span></code> command. The <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement tells SQL which columns you are interested in, and the <code class="docutils literal notranslate"><span class="pre">FROM</span></code> command tells SQL which tables those columns are in. To select all the columns from a table, we can use <code class="docutils literal notranslate"><span class="pre">*</span></code> in the select statement. For example, let us select all the columns from the table <code class="docutils literal notranslate"><span class="pre">schools</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT * 
FROM schools 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>CDSCode</th>
            <th>NCESDist</th>
            <th>NCESSchool</th>
            <th>StatusType</th>
            <th>County</th>
            <th>District</th>
            <th>School</th>
            <th>Street</th>
            <th>StreetAbr</th>
            <th>City</th>
            <th>Zip</th>
            <th>State</th>
            <th>MailStreet</th>
            <th>MailStrAbr</th>
            <th>MailCity</th>
            <th>MailZip</th>
            <th>MailState</th>
            <th>Phone</th>
            <th>Ext</th>
            <th>Website</th>
            <th>OpenDate</th>
            <th>ClosedDate</th>
            <th>Charter</th>
            <th>CharterNum</th>
            <th>FundingType</th>
            <th>DOC</th>
            <th>DOCType</th>
            <th>SOC</th>
            <th>SOCType</th>
            <th>EdOpsCode</th>
            <th>EdOpsName</th>
            <th>EILCode</th>
            <th>EILName</th>
            <th>GSoffered</th>
            <th>GSserved</th>
            <th>Virtual</th>
            <th>Magnet</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>AdmFName1</th>
            <th>AdmLName1</th>
            <th>AdmEmail1</th>
            <th>AdmFName2</th>
            <th>AdmLName2</th>
            <th>AdmEmail2</th>
            <th>AdmFName3</th>
            <th>AdmLName3</th>
            <th>AdmEmail3</th>
            <th>LastUpdate</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01100170000000</td>
            <td>0691051</td>
            <td>None</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>None</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>(510) 887-0152</td>
            <td>None</td>
            <td>www.acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>37.658212</td>
            <td>-122.09713</td>
            <td>L Karen</td>
            <td>Monroe</td>
            <td>lkmonroe@acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-23</td>
        </tr>
        <tr>
            <td>01100170109835</td>
            <td>0691051</td>
            <td>10546</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>FAME Public Charter</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2005-08-29</td>
            <td>2015-07-31</td>
            <td>1</td>
            <td>0728</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>65</td>
            <td>K-12 Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEMHIGH</td>
            <td>Elementary-High Combination</td>
            <td>K-12</td>
            <td>K-12</td>
            <td>P</td>
            <td>0</td>
            <td>37.521436</td>
            <td>-121.99391</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-09-01</td>
        </tr>
        <tr>
            <td>01100170112607</td>
            <td>0691051</td>
            <td>10947</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612-3355</td>
            <td>CA</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612</td>
            <td>CA</td>
            <td>(510) 596-8901</td>
            <td>None</td>
            <td>www.envisionacademy.org/</td>
            <td>2006-08-28</td>
            <td>None</td>
            <td>1</td>
            <td>0811</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.80452</td>
            <td>-122.26815</td>
            <td>Laura</td>
            <td>Robell</td>
            <td>laura@envisionacademy.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-18</td>
        </tr>
        <tr>
            <td>01100170118489</td>
            <td>0691051</td>
            <td>12283</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>2125 Jefferson Avenue</td>
            <td>2125 Jefferson Ave.</td>
            <td>Berkeley</td>
            <td>94703-1414</td>
            <td>CA</td>
            <td>1001 22nd Avenue, Suite 100</td>
            <td>1001 22nd Ave., Ste. 100</td>
            <td>Oakland</td>
            <td>94606</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>www.aspirepublicschools.org</td>
            <td>2008-08-21</td>
            <td>2015-06-30</td>
            <td>1</td>
            <td>1049</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.868991</td>
            <td>-122.27844</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-07-01</td>
        </tr>
        <tr>
            <td>01100170123968</td>
            <td>0691051</td>
            <td>12844</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Community School for Creative Education</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>(510) 686-4131</td>
            <td>None</td>
            <td>www.communityschoolforcreativeeducation.org</td>
            <td>2011-08-22</td>
            <td>None</td>
            <td>1</td>
            <td>1284</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>60</td>
            <td>Elementary Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEM</td>
            <td>Elementary</td>
            <td>K-8</td>
            <td>K-7</td>
            <td>N</td>
            <td>0</td>
            <td>37.784648</td>
            <td>-122.23863</td>
            <td>Clifford</td>
            <td>Thompson</td>
            <td>cliffordt@communityschoolforcreativeeducation.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-07-18</td>
        </tr>
        <tr>
            <td>01100170124172</td>
            <td>0691051</td>
            <td>12901</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Yu Ming Charter</td>
            <td>1086 Alcatraz Avenue</td>
            <td>1086 Alcatraz Ave.</td>
            <td>Oakland</td>
            <td>94608-1265</td>
            <td>CA</td>
            <td>1086 Alcatraz Avenue</td>
            <td>1086 Alcatraz Ave.</td>
            <td>Oakland</td>
            <td>94608-1265</td>
            <td>CA</td>
            <td>(510) 452-2063</td>
            <td>None</td>
            <td>www.yumingschool.org</td>
            <td>2011-08-09</td>
            <td>None</td>
            <td>1</td>
            <td>1296</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>60</td>
            <td>Elementary Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEM</td>
            <td>Elementary</td>
            <td>K-8</td>
            <td>K-5</td>
            <td>N</td>
            <td>0</td>
            <td>37.847375</td>
            <td>-122.28356</td>
            <td>Sue</td>
            <td>Park</td>
            <td>spark@yumingschool.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-05-10</td>
        </tr>
        <tr>
            <td>01100170125567</td>
            <td>0691051</td>
            <td>13008</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Urban Montessori Charter</td>
            <td>5328 Brann Street</td>
            <td>5328 Brann St.</td>
            <td>Oakland</td>
            <td>94619-3312</td>
            <td>CA</td>
            <td>5328 Brann Street</td>
            <td>5328 Brann St.</td>
            <td>Oakland</td>
            <td>94619-3312</td>
            <td>CA</td>
            <td>(510) 842-1181</td>
            <td>None</td>
            <td>www.urbanmontessori.org</td>
            <td>2012-08-27</td>
            <td>None</td>
            <td>1</td>
            <td>1383</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>60</td>
            <td>Elementary Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEM</td>
            <td>Elementary</td>
            <td>K-8</td>
            <td>K-5</td>
            <td>N</td>
            <td>0</td>
            <td>37.778352</td>
            <td>-122.1895</td>
            <td>David</td>
            <td>Castillo</td>
            <td>davidc@urbanmontessori.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-10-09</td>
        </tr>
        <tr>
            <td>01100170130302</td>
            <td>0691051</td>
            <td>None</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Technical, Agricultural & Nat.</td>
            <td>597 C Street</td>
            <td>597 C St.</td>
            <td>Hayward</td>
            <td>94541</td>
            <td>CA</td>
            <td>597 C Street</td>
            <td>597 C St.</td>
            <td>Hayward</td>
            <td>94541</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>1980-07-01</td>
            <td>1989-06-30</td>
            <td>0</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>10</td>
            <td>County Community</td>
            <td>None</td>
            <td>None</td>
            <td>UG</td>
            <td>Ungraded</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>1999-06-24</td>
        </tr>
        <tr>
            <td>01100170130401</td>
            <td>0691051</td>
            <td>09264</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda County Juvenile Hall/Court</td>
            <td>2500 Fairmont Avenue</td>
            <td>2500 Fairmont Ave.</td>
            <td>San Leandro</td>
            <td>94578-1005</td>
            <td>CA</td>
            <td>2500 Fairmont Avenue</td>
            <td>2500 Fairmont Ave.</td>
            <td>San Leandro</td>
            <td>94578-1005</td>
            <td>CA</td>
            <td>(510) 667-7435</td>
            <td>None</td>
            <td>www.acoe.org</td>
            <td>1980-07-01</td>
            <td>None</td>
            <td>0</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>14</td>
            <td>Juvenile Court Schools</td>
            <td>JUV</td>
            <td>Juvenile Court School</td>
            <td>HS</td>
            <td>High School</td>
            <td>K-12</td>
            <td>8-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.712878</td>
            <td>-122.11173</td>
            <td>Michael</td>
            <td>Hermosillo</td>
            <td>mhermosillo@acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-05-10</td>
        </tr>
        <tr>
            <td>01100170130419</td>
            <td>0691051</td>
            <td>06830</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda County Community</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>(510) 670-4590</td>
            <td>None</td>
            <td>www.acoe.org</td>
            <td>1980-07-01</td>
            <td>None</td>
            <td>0</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>10</td>
            <td>County Community</td>
            <td>COMM</td>
            <td>County Community School</td>
            <td>HS</td>
            <td>High School</td>
            <td>K-12</td>
            <td>7-12</td>
            <td>P</td>
            <td>0</td>
            <td>37.658212</td>
            <td>-122.09713</td>
            <td>Carolyn</td>
            <td>Hobbs</td>
            <td>chobbs@acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-10-06</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<section id="as">
<h4><code class="docutils literal notranslate"><span class="pre">AS</span></code><a class="headerlink" href="#as" title="Permalink to this heading">#</a></h4>
<p>We can rename columns using the <code class="docutils literal notranslate"><span class="pre">AS</span></code> keyword within the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement. For example, let us select just the school code column <a class="reference external" href="https://web.archive.org/web/20160820160000/https://www.cde.ca.gov/ds/si/ds/"><code class="docutils literal notranslate"><span class="pre">CDSCode</span></code></a> from the table <code class="docutils literal notranslate"><span class="pre">schools</span></code>, and rename it to be <code class="docutils literal notranslate"><span class="pre">County_District_Code</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT CDSCode AS County_District_Code
FROM schools 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>County_District_Code</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01100170000000</td>
        </tr>
        <tr>
            <td>01100170109835</td>
        </tr>
        <tr>
            <td>01100170112607</td>
        </tr>
        <tr>
            <td>01100170118489</td>
        </tr>
        <tr>
            <td>01100170123968</td>
        </tr>
        <tr>
            <td>01100170124172</td>
        </tr>
        <tr>
            <td>01100170125567</td>
        </tr>
        <tr>
            <td>01100170130302</td>
        </tr>
        <tr>
            <td>01100170130401</td>
        </tr>
        <tr>
            <td>01100170130419</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
</section>
<section id="cast">
<h4><code class="docutils literal notranslate"><span class="pre">CAST</span></code><a class="headerlink" href="#cast" title="Permalink to this heading">#</a></h4>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">CAST</span></code> function within the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement to convert the data types of columns if necessary. For example, we can see from the summary of all the tables that the <code class="docutils literal notranslate"><span class="pre">District</span> <span class="pre">Code</span></code> column in the <code class="docutils literal notranslate"><span class="pre">frpm</span></code> table is stored as an integer. However, since the district code is a qualitative ordinal variable rather than a quantative one (review the types of variables <a class="reference internal" href="../04-visualizations/choosing.html"><span class="doc std std-doc">here</span></a>), it would make more sense to store it as a varchar (review the types of data in SQL <a class="reference external" href="https://www.w3schools.com/sql/sql_datatypes.asp">here</a>). Let us make this change.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT CAST(&quot;District Code&quot; AS varchar)
FROM frpm
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>CAST("District Code" AS varchar)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>None</td>
        </tr>
        <tr>
            <td>None</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
        <tr>
            <td>10017</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>If you like, you can rename this new column to be something easier to interpret.</p>
</section>
<section id="case">
<h4><code class="docutils literal notranslate"><span class="pre">CASE</span></code><a class="headerlink" href="#case" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">CASE</span></code> expression helps us create new categorical columns based on other columns in SQL. The general syntax is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CASE
    WHEN condition1 THEN output1
    WHEN condition2 THEN output2
    WHEN conditionN THEN outputN
    ELSE outputN+1
END AS colname
</pre></div>
</div>
<p>For example, let us generate a new column which classifies school sizes into small, medium or large based on the number of students they have enrolled in grade 12 (represented by the <code class="docutils literal notranslate"><span class="pre">enroll12</span></code> column in the <code class="docutils literal notranslate"><span class="pre">satscores</span></code> table).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT sname, enroll12, CASE
        WHEN enroll12 &lt;= 50 THEN &quot;small&quot;
        WHEN enroll12 &gt; 2000 THEN &quot;large&quot;
        ELSE &quot;medium&quot;
    END AS school_size
FROM satscores
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>sname</th>
            <th>enroll12</th>
            <th>school_size</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>None</td>
            <td>496901</td>
            <td>large</td>
        </tr>
        <tr>
            <td>None</td>
            <td>16978</td>
            <td>large</td>
        </tr>
        <tr>
            <td>None</td>
            <td>398</td>
            <td>medium</td>
        </tr>
        <tr>
            <td>FAME Public Charter</td>
            <td>62</td>
            <td>medium</td>
        </tr>
        <tr>
            <td>Envision Academy for Arts & Technology</td>
            <td>75</td>
            <td>medium</td>
        </tr>
        <tr>
            <td>Aspire California College Preparatory Academy</td>
            <td>61</td>
            <td>medium</td>
        </tr>
        <tr>
            <td>None</td>
            <td>922</td>
            <td>medium</td>
        </tr>
        <tr>
            <td>Alameda Science and Technology Institute</td>
            <td>36</td>
            <td>small</td>
        </tr>
        <tr>
            <td>Nea Community Learning Center</td>
            <td>12</td>
            <td>small</td>
        </tr>
        <tr>
            <td>Alameda High</td>
            <td>465</td>
            <td>medium</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>You will notice that the first 3 rows have no school name. That is because they correspond to state/county/district-wide data rather than data from a specific school. We can filter the dataset to only include schools using the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause.</p>
</section>
<section id="distinct">
<h4><code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code><a class="headerlink" href="#distinct" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> keyword returns all the unique values in a column. For example, the code below returns all the unique values in the column <code class="docutils literal notranslate"><span class="pre">rtype</span></code> from the table <code class="docutils literal notranslate"><span class="pre">satscores</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT DISTINCT(rtype)
FROM satscores
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>rtype</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>X</td>
        </tr>
        <tr>
            <td>C</td>
        </tr>
        <tr>
            <td>D</td>
        </tr>
        <tr>
            <td>S</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>As an aside, the column <code class="docutils literal notranslate"><span class="pre">rtype</span></code> represents the type of region being covered by the row. <code class="docutils literal notranslate"><span class="pre">S</span></code> represents a single school, <code class="docutils literal notranslate"><span class="pre">D</span></code> represents a school district, <code class="docutils literal notranslate"><span class="pre">C</span></code> represents a county and <code class="docutils literal notranslate"><span class="pre">X</span></code> represents the entire state.</p>
</section>
</section>
<section id="join">
<h3><code class="docutils literal notranslate"><span class="pre">JOIN</span></code><a class="headerlink" href="#join" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="../03-pandas/merge.html"><span class="doc std std-doc">Joins</span></a> in SQL work very similarly to joins in <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. The general syntax of a <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> clause is as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SELECT &lt;columns&gt;
FROM &lt;table&gt;
(INNER)/(LEFT)/(RIGHT)/(FULL OUTER) JOIN &lt;table&gt;
ON &lt;columns&gt; = &lt;columns&gt;
</pre></div>
</div>
<p>For example, let us inner join the <code class="docutils literal notranslate"><span class="pre">schools</span></code> and <code class="docutils literal notranslate"><span class="pre">satscores</span></code> tables on their shared CDS Code column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT schools.&quot;County&quot;, schools.&quot;District&quot;, schools.&quot;School&quot;, 
    satscores.&quot;NumTstTakr&quot;, satscores.&quot;AvgScrRead&quot;, satscores.&quot;AvgScrMath&quot;, satscores.&quot;PctGE1500&quot;
FROM schools
INNER JOIN satscores
ON schools.&quot;CDSCode&quot; = satscores.cds
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>County</th>
            <th>District</th>
            <th>School</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>None</td>
            <td>88</td>
            <td>418</td>
            <td>418</td>
            <td>15.91</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>FAME Public Charter</td>
            <td>17</td>
            <td>503</td>
            <td>546</td>
            <td>52.94</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>71</td>
            <td>397</td>
            <td>387</td>
            <td>7.04</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>0</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>None</td>
            <td>544</td>
            <td>521</td>
            <td>546</td>
            <td>61.21</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>Alameda Science and Technology Institute</td>
            <td>36</td>
            <td>562</td>
            <td>590</td>
            <td>80.56</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>Nea Community Learning Center</td>
            <td>6</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>Alameda High</td>
            <td>325</td>
            <td>543</td>
            <td>573</td>
            <td>70.46</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>Alameda Community Learning Center</td>
            <td>20</td>
            <td>575</td>
            <td>593</td>
            <td>80.0</td>
        </tr>
        <tr>
            <td>Alameda</td>
            <td>Alameda Unified</td>
            <td>Alternatives in Action</td>
            <td>23</td>
            <td>352</td>
            <td>350</td>
            <td>4.35</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>As you can see, when specifying columns in the query above, I specified which tables the columns came from. Technically this isn’t necessary if both tables don’t share the column name, but it is still good practice to do so.</p>
</section>
<section id="where">
<h3><code class="docutils literal notranslate"><span class="pre">WHERE</span></code><a class="headerlink" href="#where" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause helps us filter rows we’re interested in. For example, we can filter the <code class="docutils literal notranslate"><span class="pre">satscores</span></code> dataset to include all schools where over 50% of the school got over a 1500 on the SAT (as captured in the <code class="docutils literal notranslate"><span class="pre">PctGE1500</span></code> column).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT *
FROM satscores
WHERE PctGE1500 &gt;= 50
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cds</th>
            <th>rtype</th>
            <th>sname</th>
            <th>dname</th>
            <th>cname</th>
            <th>enroll12</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>AvgScrWrite</th>
            <th>NumGE1500</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01000000000000</td>
            <td>C</td>
            <td>None</td>
            <td>None</td>
            <td>Alameda</td>
            <td>16978</td>
            <td>8855</td>
            <td>516</td>
            <td>536</td>
            <td>517</td>
            <td>4900</td>
            <td>55.34</td>
        </tr>
        <tr>
            <td>01100170109835</td>
            <td>S</td>
            <td>FAME Public Charter</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>62</td>
            <td>17</td>
            <td>503</td>
            <td>546</td>
            <td>505</td>
            <td>9</td>
            <td>52.94</td>
        </tr>
        <tr>
            <td>01611190000000</td>
            <td>D</td>
            <td>None</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>922</td>
            <td>544</td>
            <td>521</td>
            <td>546</td>
            <td>519</td>
            <td>333</td>
            <td>61.21</td>
        </tr>
        <tr>
            <td>01611190106401</td>
            <td>S</td>
            <td>Alameda Science and Technology Institute</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>36</td>
            <td>36</td>
            <td>562</td>
            <td>590</td>
            <td>555</td>
            <td>29</td>
            <td>80.56</td>
        </tr>
        <tr>
            <td>01611190130229</td>
            <td>S</td>
            <td>Alameda High</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>465</td>
            <td>325</td>
            <td>543</td>
            <td>573</td>
            <td>543</td>
            <td>229</td>
            <td>70.46</td>
        </tr>
        <tr>
            <td>01611190130609</td>
            <td>S</td>
            <td>Alameda Community Learning Center</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>26</td>
            <td>20</td>
            <td>575</td>
            <td>593</td>
            <td>581</td>
            <td>16</td>
            <td>80.0</td>
        </tr>
        <tr>
            <td>01611270000000</td>
            <td>D</td>
            <td>None</td>
            <td>Albany City Unified</td>
            <td>Alameda</td>
            <td>289</td>
            <td>178</td>
            <td>572</td>
            <td>599</td>
            <td>574</td>
            <td>136</td>
            <td>76.4</td>
        </tr>
        <tr>
            <td>01611270130450</td>
            <td>S</td>
            <td>Albany High</td>
            <td>Albany City Unified</td>
            <td>Alameda</td>
            <td>273</td>
            <td>178</td>
            <td>572</td>
            <td>599</td>
            <td>574</td>
            <td>136</td>
            <td>76.4</td>
        </tr>
        <tr>
            <td>01611430000000</td>
            <td>D</td>
            <td>None</td>
            <td>Berkeley Unified</td>
            <td>Alameda</td>
            <td>885</td>
            <td>490</td>
            <td>566</td>
            <td>562</td>
            <td>559</td>
            <td>337</td>
            <td>68.78</td>
        </tr>
        <tr>
            <td>01611430131177</td>
            <td>S</td>
            <td>Berkeley High</td>
            <td>Berkeley Unified</td>
            <td>Alameda</td>
            <td>741</td>
            <td>450</td>
            <td>583</td>
            <td>580</td>
            <td>574</td>
            <td>335</td>
            <td>74.44</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>If we’re interested in filtering based on string data, it is recommended to use the <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> operator. As a reminder, while <code class="docutils literal notranslate"><span class="pre">pandas</span></code> doesn’t differentiate between single quotes (‘’) and double quotes (“”), SQL does. When I find it easiest to just use double quotes when denoting (string) column names in Jupyter SQL cell magic, you can read more about the details <a class="reference external" href="https://ibm.github.io/db2-jupyter/linevscell/#python-versus-db2-character-strings">here</a>. For example, let us filter the dataset to include all the rows corresponding to a school (as indicated by the <code class="docutils literal notranslate"><span class="pre">rtype</span></code> column being <code class="docutils literal notranslate"><span class="pre">S</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT *
FROM satscores
WHERE rtype LIKE &quot;S&quot; 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cds</th>
            <th>rtype</th>
            <th>sname</th>
            <th>dname</th>
            <th>cname</th>
            <th>enroll12</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>AvgScrWrite</th>
            <th>NumGE1500</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01100170109835</td>
            <td>S</td>
            <td>FAME Public Charter</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>62</td>
            <td>17</td>
            <td>503</td>
            <td>546</td>
            <td>505</td>
            <td>9</td>
            <td>52.94</td>
        </tr>
        <tr>
            <td>01100170112607</td>
            <td>S</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>75</td>
            <td>71</td>
            <td>397</td>
            <td>387</td>
            <td>395</td>
            <td>5</td>
            <td>7.04</td>
        </tr>
        <tr>
            <td>01100170118489</td>
            <td>S</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>Alameda County Office of Education</td>
            <td>Alameda</td>
            <td>61</td>
            <td>0</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
        </tr>
        <tr>
            <td>01611190106401</td>
            <td>S</td>
            <td>Alameda Science and Technology Institute</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>36</td>
            <td>36</td>
            <td>562</td>
            <td>590</td>
            <td>555</td>
            <td>29</td>
            <td>80.56</td>
        </tr>
        <tr>
            <td>01611190119222</td>
            <td>S</td>
            <td>Nea Community Learning Center</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>12</td>
            <td>6</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
        </tr>
        <tr>
            <td>01611190130229</td>
            <td>S</td>
            <td>Alameda High</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>465</td>
            <td>325</td>
            <td>543</td>
            <td>573</td>
            <td>543</td>
            <td>229</td>
            <td>70.46</td>
        </tr>
        <tr>
            <td>01611190130609</td>
            <td>S</td>
            <td>Alameda Community Learning Center</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>26</td>
            <td>20</td>
            <td>575</td>
            <td>593</td>
            <td>581</td>
            <td>16</td>
            <td>80.0</td>
        </tr>
        <tr>
            <td>01611190130625</td>
            <td>S</td>
            <td>Alternatives in Action</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>41</td>
            <td>23</td>
            <td>352</td>
            <td>350</td>
            <td>343</td>
            <td>1</td>
            <td>4.35</td>
        </tr>
        <tr>
            <td>01611190132878</td>
            <td>S</td>
            <td>Encinal High</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>238</td>
            <td>132</td>
            <td>483</td>
            <td>504</td>
            <td>476</td>
            <td>56</td>
            <td>42.42</td>
        </tr>
        <tr>
            <td>01611190134304</td>
            <td>S</td>
            <td>Island High (Continuation)</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>100</td>
            <td>2</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>When using the <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> operator, the character <code class="docutils literal notranslate"><span class="pre">%</span></code> represents a wildcard which matches any string (similar to the <code class="docutils literal notranslate"><span class="pre">.*</span></code> pattern in <a class="reference internal" href="../05-regex/regex.html"><span class="doc std std-doc">RegEx</span></a>). For example, let us say we’re interested in all high school names which end with the word ‘High’. As we’re only interested in high schools, we want to put filters on both the <code class="docutils literal notranslate"><span class="pre">rtype</span></code> and the <code class="docutils literal notranslate"><span class="pre">sname</span></code> columns. We extract those rows using the code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT *
FROM satscores
WHERE rtype LIKE &quot;S&quot; 
AND sname LIKE &quot;%High&quot; 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cds</th>
            <th>rtype</th>
            <th>sname</th>
            <th>dname</th>
            <th>cname</th>
            <th>enroll12</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>AvgScrWrite</th>
            <th>NumGE1500</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01611190130229</td>
            <td>S</td>
            <td>Alameda High</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>465</td>
            <td>325</td>
            <td>543</td>
            <td>573</td>
            <td>543</td>
            <td>229</td>
            <td>70.46</td>
        </tr>
        <tr>
            <td>01611190132878</td>
            <td>S</td>
            <td>Encinal High</td>
            <td>Alameda Unified</td>
            <td>Alameda</td>
            <td>238</td>
            <td>132</td>
            <td>483</td>
            <td>504</td>
            <td>476</td>
            <td>56</td>
            <td>42.42</td>
        </tr>
        <tr>
            <td>01611270130450</td>
            <td>S</td>
            <td>Albany High</td>
            <td>Albany City Unified</td>
            <td>Alameda</td>
            <td>273</td>
            <td>178</td>
            <td>572</td>
            <td>599</td>
            <td>574</td>
            <td>136</td>
            <td>76.4</td>
        </tr>
        <tr>
            <td>01611430122697</td>
            <td>S</td>
            <td>REALM Charter High</td>
            <td>Berkeley Unified</td>
            <td>Alameda</td>
            <td>76</td>
            <td>36</td>
            <td>384</td>
            <td>360</td>
            <td>386</td>
            <td>2</td>
            <td>5.56</td>
        </tr>
        <tr>
            <td>01611430131177</td>
            <td>S</td>
            <td>Berkeley High</td>
            <td>Berkeley Unified</td>
            <td>Alameda</td>
            <td>741</td>
            <td>450</td>
            <td>583</td>
            <td>580</td>
            <td>574</td>
            <td>335</td>
            <td>74.44</td>
        </tr>
        <tr>
            <td>01611500132225</td>
            <td>S</td>
            <td>Castro Valley High</td>
            <td>Castro Valley Unified</td>
            <td>Alameda</td>
            <td>688</td>
            <td>438</td>
            <td>527</td>
            <td>556</td>
            <td>524</td>
            <td>273</td>
            <td>62.33</td>
        </tr>
        <tr>
            <td>01611760130062</td>
            <td>S</td>
            <td>American High</td>
            <td>Fremont Unified</td>
            <td>Alameda</td>
            <td>457</td>
            <td>309</td>
            <td>573</td>
            <td>608</td>
            <td>592</td>
            <td>243</td>
            <td>78.64</td>
        </tr>
        <tr>
            <td>01611760134270</td>
            <td>S</td>
            <td>Irvington High</td>
            <td>Fremont Unified</td>
            <td>Alameda</td>
            <td>500</td>
            <td>364</td>
            <td>590</td>
            <td>634</td>
            <td>606</td>
            <td>309</td>
            <td>84.89</td>
        </tr>
        <tr>
            <td>01611760134452</td>
            <td>S</td>
            <td>John F. Kennedy High</td>
            <td>Fremont Unified</td>
            <td>Alameda</td>
            <td>368</td>
            <td>179</td>
            <td>485</td>
            <td>509</td>
            <td>485</td>
            <td>77</td>
            <td>43.02</td>
        </tr>
        <tr>
            <td>01611760135244</td>
            <td>S</td>
            <td>Mission San Jose High</td>
            <td>Fremont Unified</td>
            <td>Alameda</td>
            <td>518</td>
            <td>453</td>
            <td>653</td>
            <td>699</td>
            <td>671</td>
            <td>421</td>
            <td>92.94</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">%</span></code> was just an example, read more about the different wildcards in SQL <a class="reference external" href="https://engineering.monstar-lab.com/en/post/2023/04/06/SQL-wildcard-operators-and-how-to-escape-them/">here</a>.</p>
</section>
<section id="group-by">
<h3><code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code><a class="headerlink" href="#group-by" title="Permalink to this heading">#</a></h3>
<p>The SQL <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> statement accomplishes the exact same task as the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> (review the <a class="reference internal" href="../03-pandas/groupby_pivot.html"><span class="doc std std-doc"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> subchapter</span></a> if necessary). To specify which column you want to group by, you simply add that into the query, following the syntax below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SELECT &lt;columns&gt;
FROM &lt;table&gt;
GROUP BY &lt;columns&gt;
</pre></div>
</div>
<section id="aggregate">
<h4>Aggregate<a class="headerlink" href="#aggregate" title="Permalink to this heading">#</a></h4>
<p>Specifying the aggregate function in SQL is not always intuitive for those who are familar with <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. In SQL, you specify the aggregate function inside the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement. For example, let us say you are interested in the total number of test takers across all high schools in the different countries. In <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, you could do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>satscores[satscores[&#39;rtype&#39;] == &#39;S&#39;].groupby(&#39;cname&#39;)[&#39;NumTstTakr&#39;].sum()
</pre></div>
</div>
<p>However, in <code class="docutils literal notranslate"><span class="pre">SQL</span></code>, you must write the code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT cname, SUM(NumTstTakr)
FROM satscores
WHERE rtype = &quot;S&quot;
GROUP BY cname
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cname</th>
            <th>SUM(NumTstTakr)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Alameda</td>
            <td>8855</td>
        </tr>
        <tr>
            <td>Amador</td>
            <td>97</td>
        </tr>
        <tr>
            <td>Butte</td>
            <td>636</td>
        </tr>
        <tr>
            <td>Calaveras</td>
            <td>125</td>
        </tr>
        <tr>
            <td>Colusa</td>
            <td>104</td>
        </tr>
        <tr>
            <td>Contra Costa</td>
            <td>7027</td>
        </tr>
        <tr>
            <td>Del Norte</td>
            <td>81</td>
        </tr>
        <tr>
            <td>El Dorado</td>
            <td>938</td>
        </tr>
        <tr>
            <td>Fresno</td>
            <td>5907</td>
        </tr>
        <tr>
            <td>Glenn</td>
            <td>107</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>An advantage of the SQL approach is that it’s quite easy to compute multiple aggregations at once.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT cname, SUM(NumTstTakr), AVG(PctGE1500)
FROM satscores
WHERE rtype = &quot;S&quot;
GROUP BY cname
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cname</th>
            <th>SUM(NumTstTakr)</th>
            <th>AVG(PctGE1500)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Alameda</td>
            <td>8855</td>
            <td>40.14071428571429</td>
        </tr>
        <tr>
            <td>Amador</td>
            <td>97</td>
            <td>59.925000000000004</td>
        </tr>
        <tr>
            <td>Butte</td>
            <td>636</td>
            <td>51.753</td>
        </tr>
        <tr>
            <td>Calaveras</td>
            <td>125</td>
            <td>62.885000000000005</td>
        </tr>
        <tr>
            <td>Colusa</td>
            <td>104</td>
            <td>30.33</td>
        </tr>
        <tr>
            <td>Contra Costa</td>
            <td>7027</td>
            <td>43.969722222222224</td>
        </tr>
        <tr>
            <td>Del Norte</td>
            <td>81</td>
            <td>45.45</td>
        </tr>
        <tr>
            <td>El Dorado</td>
            <td>938</td>
            <td>66.09428571428572</td>
        </tr>
        <tr>
            <td>Fresno</td>
            <td>5907</td>
            <td>25.784848484848485</td>
        </tr>
        <tr>
            <td>Glenn</td>
            <td>107</td>
            <td>33.626666666666665</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>SQL comes with multiple aggregate functions, including <code class="docutils literal notranslate"><span class="pre">COUNT</span></code>, <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX</span></code>, <code class="docutils literal notranslate"><span class="pre">SUM</span></code>, <code class="docutils literal notranslate"><span class="pre">AVG</span></code>, etc. Feel free to google around for more examples of aggregate functions and creative ways to use the functions above!</p>
</section>
<section id="having">
<h4><code class="docutils literal notranslate"><span class="pre">HAVING</span></code><a class="headerlink" href="#having" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clause in a SQL <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> is equivalent to the <code class="docutils literal notranslate"><span class="pre">filter()</span></code> in a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> groupby (review the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> filter <a class="reference internal" href="../03-pandas/groupby_pivot.html"><span class="doc std std-doc">here</span></a> if necessary). It goes directly after the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> statement. For example, suppose we want to identify school districts where the average percentage of students scoring above 1500 on the SAT is less than 10%. We could write the following SQL code to achieve this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT dname, cname, AVG(PctGE1500)
FROM satscores
WHERE rtype = &quot;S&quot;
GROUP BY dname
HAVING AVG(PctGE1500) &lt;= 10
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>dname</th>
            <th>cname</th>
            <th>AVG(PctGE1500)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Calistoga Joint Unified</td>
            <td>Napa</td>
            <td>7.69</td>
        </tr>
        <tr>
            <td>Compton Unified</td>
            <td>Los Angeles</td>
            <td>7.016666666666667</td>
        </tr>
        <tr>
            <td>Delhi Unified</td>
            <td>Merced</td>
            <td>9.09</td>
        </tr>
        <tr>
            <td>Farmersville Unified</td>
            <td>Tulare</td>
            <td>7.59</td>
        </tr>
        <tr>
            <td>Firebaugh-Las Deltas Unified</td>
            <td>Fresno</td>
            <td>4.76</td>
        </tr>
        <tr>
            <td>Golden Plains Unified</td>
            <td>Fresno</td>
            <td>7.27</td>
        </tr>
        <tr>
            <td>Le Grand Union High</td>
            <td>Merced</td>
            <td>8.47</td>
        </tr>
        <tr>
            <td>Lucerne Valley Unified</td>
            <td>San Bernardino</td>
            <td>0.0</td>
        </tr>
        <tr>
            <td>Lynwood Unified</td>
            <td>Los Angeles</td>
            <td>9.934999999999999</td>
        </tr>
        <tr>
            <td>Mendota Unified</td>
            <td>Fresno</td>
            <td>6.45</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
<p>Note how we easily performed both an aggregation and a filter in the code above. The ease of writing this is an advantage of SQL’s groupby approach.</p>
</section>
</section>
<section id="order-by">
<h3><code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code><a class="headerlink" href="#order-by" title="Permalink to this heading">#</a></h3>
<p>Orders the table by a given column, in ascending (using <code class="docutils literal notranslate"><span class="pre">ASC</span></code>) or descending (using <code class="docutils literal notranslate"><span class="pre">DESC</span></code>) order. For example, let us say we’re interested in which schools have the highest proportion of students scoring above a 1500 on the SAT. We could use the code below to accomplish this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT *
FROM satscores
WHERE rtype = &quot;S&quot;
ORDER BY PctGE1500 DESC
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>cds</th>
            <th>rtype</th>
            <th>sname</th>
            <th>dname</th>
            <th>cname</th>
            <th>enroll12</th>
            <th>NumTstTakr</th>
            <th>AvgScrRead</th>
            <th>AvgScrMath</th>
            <th>AvgScrWrite</th>
            <th>NumGE1500</th>
            <th>PctGE1500</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>30664313030616</td>
            <td>S</td>
            <td>Oxford Academy</td>
            <td>Anaheim Union High</td>
            <td>Orange</td>
            <td>176</td>
            <td>167</td>
            <td>627</td>
            <td>669</td>
            <td>634</td>
            <td>164</td>
            <td>98.2</td>
        </tr>
        <tr>
            <td>19642121931880</td>
            <td>S</td>
            <td>Whitney (Gretchen) High</td>
            <td>ABC Unified</td>
            <td>Los Angeles</td>
            <td>164</td>
            <td>154</td>
            <td>639</td>
            <td>687</td>
            <td>661</td>
            <td>151</td>
            <td>98.05</td>
        </tr>
        <tr>
            <td>43694684334421</td>
            <td>S</td>
            <td>Lynbrook High</td>
            <td>Fremont Union High</td>
            <td>Santa Clara</td>
            <td>472</td>
            <td>398</td>
            <td>639</td>
            <td>698</td>
            <td>664</td>
            <td>382</td>
            <td>95.98</td>
        </tr>
        <tr>
            <td>43694684334462</td>
            <td>S</td>
            <td>Monta Vista High</td>
            <td>Fremont Union High</td>
            <td>Santa Clara</td>
            <td>608</td>
            <td>513</td>
            <td>638</td>
            <td>691</td>
            <td>657</td>
            <td>487</td>
            <td>94.93</td>
        </tr>
        <tr>
            <td>43695344337762</td>
            <td>S</td>
            <td>Saratoga High</td>
            <td>Los Gatos-Saratoga Joint Union High</td>
            <td>Santa Clara</td>
            <td>362</td>
            <td>319</td>
            <td>639</td>
            <td>674</td>
            <td>650</td>
            <td>302</td>
            <td>94.67</td>
        </tr>
        <tr>
            <td>43696414332904</td>
            <td>S</td>
            <td>Henry M. Gunn High</td>
            <td>Palo Alto Unified</td>
            <td>Santa Clara</td>
            <td>447</td>
            <td>330</td>
            <td>642</td>
            <td>686</td>
            <td>646</td>
            <td>310</td>
            <td>93.94</td>
        </tr>
        <tr>
            <td>44104474430252</td>
            <td>S</td>
            <td>Pacific Collegiate Charter</td>
            <td>Santa Cruz County Office of Education</td>
            <td>Santa Cruz</td>
            <td>71</td>
            <td>66</td>
            <td>638</td>
            <td>638</td>
            <td>630</td>
            <td>62</td>
            <td>93.94</td>
        </tr>
        <tr>
            <td>19642611995299</td>
            <td>S</td>
            <td>Rancho Learning Center (Alternative)</td>
            <td>Arcadia Unified</td>
            <td>Los Angeles</td>
            <td>38</td>
            <td>32</td>
            <td>605</td>
            <td>641</td>
            <td>601</td>
            <td>30</td>
            <td>93.75</td>
        </tr>
        <tr>
            <td>07616300734244</td>
            <td>S</td>
            <td>Miramonte High</td>
            <td>Acalanes Union High</td>
            <td>Contra Costa</td>
            <td>253</td>
            <td>218</td>
            <td>628</td>
            <td>633</td>
            <td>633</td>
            <td>203</td>
            <td>93.12</td>
        </tr>
        <tr>
            <td>01611760135244</td>
            <td>S</td>
            <td>Mission San Jose High</td>
            <td>Fremont Unified</td>
            <td>Alameda</td>
            <td>518</td>
            <td>453</td>
            <td>653</td>
            <td>699</td>
            <td>671</td>
            <td>421</td>
            <td>92.94</td>
        </tr>
    </tbody>
</table>
<span style="font-style:italic;text-align:center;">Truncated to <a href="https://jupysql.ploomber.io/en/latest/api/configuration.html#displaylimit">displaylimit</a> of 10.</span></div></div>
</div>
</section>
<section id="limit">
<h3><code class="docutils literal notranslate"><span class="pre">LIMIT</span></code><a class="headerlink" href="#limit" title="Permalink to this heading">#</a></h3>
<p>Limits the number of rows to be returned. For example, the code below accomplishes the same thing as <code class="docutils literal notranslate"><span class="pre">schools.head(5)</span></code> in <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">sql</span>

SELECT *
FROM schools
LIMIT 5
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="None">Running query in &#x27;sqlite:///data/cdeschools.sqlite&#x27;</span></div><div class="output text_html"><table>
    <thead>
        <tr>
            <th>CDSCode</th>
            <th>NCESDist</th>
            <th>NCESSchool</th>
            <th>StatusType</th>
            <th>County</th>
            <th>District</th>
            <th>School</th>
            <th>Street</th>
            <th>StreetAbr</th>
            <th>City</th>
            <th>Zip</th>
            <th>State</th>
            <th>MailStreet</th>
            <th>MailStrAbr</th>
            <th>MailCity</th>
            <th>MailZip</th>
            <th>MailState</th>
            <th>Phone</th>
            <th>Ext</th>
            <th>Website</th>
            <th>OpenDate</th>
            <th>ClosedDate</th>
            <th>Charter</th>
            <th>CharterNum</th>
            <th>FundingType</th>
            <th>DOC</th>
            <th>DOCType</th>
            <th>SOC</th>
            <th>SOCType</th>
            <th>EdOpsCode</th>
            <th>EdOpsName</th>
            <th>EILCode</th>
            <th>EILName</th>
            <th>GSoffered</th>
            <th>GSserved</th>
            <th>Virtual</th>
            <th>Magnet</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>AdmFName1</th>
            <th>AdmLName1</th>
            <th>AdmEmail1</th>
            <th>AdmFName2</th>
            <th>AdmLName2</th>
            <th>AdmEmail2</th>
            <th>AdmFName3</th>
            <th>AdmLName3</th>
            <th>AdmEmail3</th>
            <th>LastUpdate</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01100170000000</td>
            <td>0691051</td>
            <td>None</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>None</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>313 West Winton Avenue</td>
            <td>313 West Winton Ave.</td>
            <td>Hayward</td>
            <td>94544-1136</td>
            <td>CA</td>
            <td>(510) 887-0152</td>
            <td>None</td>
            <td>www.acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>37.658212</td>
            <td>-122.09713</td>
            <td>L Karen</td>
            <td>Monroe</td>
            <td>lkmonroe@acoe.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-23</td>
        </tr>
        <tr>
            <td>01100170109835</td>
            <td>0691051</td>
            <td>10546</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>FAME Public Charter</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>39899 Balentine Drive, Suite 335</td>
            <td>39899 Balentine Dr., Ste. 335</td>
            <td>Newark</td>
            <td>94560-5359</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2005-08-29</td>
            <td>2015-07-31</td>
            <td>1</td>
            <td>0728</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>65</td>
            <td>K-12 Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEMHIGH</td>
            <td>Elementary-High Combination</td>
            <td>K-12</td>
            <td>K-12</td>
            <td>P</td>
            <td>0</td>
            <td>37.521436</td>
            <td>-121.99391</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-09-01</td>
        </tr>
        <tr>
            <td>01100170112607</td>
            <td>0691051</td>
            <td>10947</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Envision Academy for Arts & Technology</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612-3355</td>
            <td>CA</td>
            <td>1515 Webster Street</td>
            <td>1515 Webster St.</td>
            <td>Oakland</td>
            <td>94612</td>
            <td>CA</td>
            <td>(510) 596-8901</td>
            <td>None</td>
            <td>www.envisionacademy.org/</td>
            <td>2006-08-28</td>
            <td>None</td>
            <td>1</td>
            <td>0811</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.80452</td>
            <td>-122.26815</td>
            <td>Laura</td>
            <td>Robell</td>
            <td>laura@envisionacademy.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-06-18</td>
        </tr>
        <tr>
            <td>01100170118489</td>
            <td>0691051</td>
            <td>12283</td>
            <td>Closed</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Aspire California College Preparatory Academy</td>
            <td>2125 Jefferson Avenue</td>
            <td>2125 Jefferson Ave.</td>
            <td>Berkeley</td>
            <td>94703-1414</td>
            <td>CA</td>
            <td>1001 22nd Avenue, Suite 100</td>
            <td>1001 22nd Ave., Ste. 100</td>
            <td>Oakland</td>
            <td>94606</td>
            <td>CA</td>
            <td>None</td>
            <td>None</td>
            <td>www.aspirepublicschools.org</td>
            <td>2008-08-21</td>
            <td>2015-06-30</td>
            <td>1</td>
            <td>1049</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>66</td>
            <td>High Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>HS</td>
            <td>High School</td>
            <td>9-12</td>
            <td>9-12</td>
            <td>N</td>
            <td>0</td>
            <td>37.868991</td>
            <td>-122.27844</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2015-07-01</td>
        </tr>
        <tr>
            <td>01100170123968</td>
            <td>0691051</td>
            <td>12844</td>
            <td>Active</td>
            <td>Alameda</td>
            <td>Alameda County Office of Education</td>
            <td>Community School for Creative Education</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>2111 International Boulevard</td>
            <td>2111 International Blvd.</td>
            <td>Oakland</td>
            <td>94606-4903</td>
            <td>CA</td>
            <td>(510) 686-4131</td>
            <td>None</td>
            <td>www.communityschoolforcreativeeducation.org</td>
            <td>2011-08-22</td>
            <td>None</td>
            <td>1</td>
            <td>1284</td>
            <td>Directly funded</td>
            <td>00</td>
            <td>County Office of Education (COE)</td>
            <td>60</td>
            <td>Elementary Schools (Public)</td>
            <td>TRAD</td>
            <td>Traditional</td>
            <td>ELEM</td>
            <td>Elementary</td>
            <td>K-8</td>
            <td>K-7</td>
            <td>N</td>
            <td>0</td>
            <td>37.784648</td>
            <td>-122.23863</td>
            <td>Clifford</td>
            <td>Thompson</td>
            <td>cliffordt@communityschoolforcreativeeducation.org</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
            <td>2016-07-18</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<div class="alert alert-info">
<p><strong>Note:</strong> SQL is designed for very fast and efficient use with extremely large databases. However, if you try to access all the rows at once, SQL won’t prevent them from being returned. This could crash your computer as you may not have enough space to accomodate such a large output. Please always <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> your SQL queries unless you are 100% sure the output will not be excessively large. We haven’t limited our queries in this chapter because we were 100% sure that we are working with small-ish datasets; otherwise we would definitely limit our queries.</p>
</div></section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-sklearn-env-py"
        },
        kernelOptions: {
            name: "conda-env-sklearn-env-py",
            path: "./content/07-sql"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-sklearn-env-py'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../06-api/api.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">APIs</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-to-a-sql-database-in-jupyter">Connecting to a SQL Database in Jupyter</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">Syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select"><code class="docutils literal notranslate"><span class="pre">SELECT</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#as"><code class="docutils literal notranslate"><span class="pre">AS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cast"><code class="docutils literal notranslate"><span class="pre">CAST</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#case"><code class="docutils literal notranslate"><span class="pre">CASE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#distinct"><code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#join"><code class="docutils literal notranslate"><span class="pre">JOIN</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#where"><code class="docutils literal notranslate"><span class="pre">WHERE</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-by"><code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregate">Aggregate</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#having"><code class="docutils literal notranslate"><span class="pre">HAVING</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#order-by"><code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limit"><code class="docutils literal notranslate"><span class="pre">LIMIT</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Rohan Jha
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>